import{g as a}from"./storage-15de54d1.js";chrome.tabs.onActivated.addListener(async t=>{setTimeout(async()=>{const s=await chrome.tabs.get(t.tabId);if(s.url&&!s.url.startsWith("chrome://")&&!s.url.startsWith("edge://")){const e=await a(s.url);e?chrome.tabs.sendMessage(t.tabId,{type:"SHOW_NOTE_OVERLAY",note:e.note}):chrome.tabs.sendMessage(t.tabId,{type:"SHOW_INTENT_PROMPT"})}},1e3)});chrome.tabs.onUpdated.addListener(async(t,s,e)=>{s.status==="complete"&&e.url&&!e.url.startsWith("chrome://")&&!e.url.startsWith("edge://")&&setTimeout(async()=>{const r=await a(e.url);r?chrome.tabs.sendMessage(t,{type:"SHOW_NOTE_OVERLAY",note:r.note}):chrome.tabs.sendMessage(t,{type:"SHOW_INTENT_PROMPT"})},1e3)});chrome.runtime.onMessage.addListener((t,s,e)=>(t.type==="OPEN_POPUP"&&(chrome.action.openPopup(),e({success:!0})),!0));
